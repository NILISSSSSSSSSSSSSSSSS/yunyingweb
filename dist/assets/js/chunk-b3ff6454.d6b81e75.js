(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3ff6454"],{"49a3":function(n,e,t){e=n.exports=t("690e")(!0),e.push([n.i,".chatRoom[data-v-438fc966],[data-v-438fc966] .el-card__body{width:100%}.chatRoom[data-v-438fc966]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:13px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.chatRoom .chatTop[data-v-438fc966]{max-height:400px;overflow:auto;height:529px;padding:5px;width:100%;padding:10px;border:1px solid #ababab;-webkit-box-sizing:border-box;box-sizing:border-box}.chatRoom .chatTop .divItem[data-v-438fc966]{width:100%}.chatRoom .chatTop .divItem .messageRow[data-v-438fc966]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.chatRoom .chatTop .divItem .messageRow .messageT[data-v-438fc966]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.chatRoom .chatTop .divItem .messageRow .messageT[data-v-438fc966],.chatRoom .chatTop .divItem .messageRow .messageT .messageL[data-v-438fc966]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.chatRoom .chatTop .divItem .messageRow .messageT .messageL[data-v-438fc966]{margin-right:5px;-ms-flex-wrap:wrap;flex-wrap:wrap}.chatRoom .chatTop .divItem .messageRow .messageT .messageL .time[data-v-438fc966]{display:block;font-size:12px;width:100%}.chatRoom .chatTop .divItem .messageRow .con[data-v-438fc966]{cursor:pointer}.chatRoom .chatTop .divItem .messageRow .con audio[data-v-438fc966],.chatRoom .chatTop .divItem .messageRow .con img[data-v-438fc966],.chatRoom .chatTop .divItem .messageRow .con video[data-v-438fc966]{max-width:200px;max-height:150px}.chatRoom .chatTop .divItem .messageRow .txt[data-v-438fc966]{padding:5px;border-radius:5px;max-width:400px;word-break:break-word}.chatRoom .chatTop .divItem .self[data-v-438fc966]{text-align:right;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.chatRoom .chatTop .divItem .self .con[data-v-438fc966]{background:#fafff3;text-align:left;cursor:pointer}.chatRoom .chatTop .divItem .other[data-v-438fc966]{text-align:left;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.chatRoom .chatTop .divItem .other .messageT[data-v-438fc966],.chatRoom .chatTop .divItem .other .messageT .messageL[data-v-438fc966]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.chatRoom .chatTop .divItem .other .messageT .messageL[data-v-438fc966]{margin-left:10px}.chatRoom .chatTop .divItem .other .con[data-v-438fc966]{margin-left:30px;background:#f2f2f2}.chatRoom .chatInput[data-v-438fc966]{margin-top:20px}.chatRoom .chatInput[data-v-438fc966] .el-textarea__inner{padding:25px 15px;border:1px solid #ababab;resize:none}.chatRoom .chatInput .buttonRow[data-v-438fc966]{margin-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.chatRoom .chatInput .buttonRow .iconTb[data-v-438fc966],.chatRoom .chatInput .buttonRow div[data-v-438fc966]{font-size:21px;color:#d1d1d1;margin-right:20px;cursor:pointer;display:inline-block}","",{version:3,sources:["C:/小甘项目/yunyingweb/src/components/rebroadcast/C:/小甘项目/yunyingweb/src/components/rebroadcast/C:/小甘项目/yunyingweb/src/components/rebroadcast/C:/小甘项目/yunyingweb/src/components/rebroadcast/chatRoom2.vue?vue&type=style&index=0&id=438fc966&scoped=true&lang=less&","C:/小甘项目/yunyingweb/src/components/rebroadcast/C:/小甘项目/yunyingweb/src/components/rebroadcast/C:/小甘项目/yunyingweb/src/components/rebroadcast/chatRoom2.vue"],names:[],mappings:"AAyPA,4DAHE,UC9OF,CDiPA,2BAEE,oBAAA,oBAAA,aACA,eACA,4BAAA,6BAAA,0BAAA,qBCrPF,CDiPA,oCAOI,iBACA,cACA,aACA,YACA,WACA,aACA,yBACA,8BAAA,qBCrPJ,CDuOA,6CAiBM,UCrPN,CDoOA,yDAoBQ,oBAAA,oBAAA,aACA,4BAAA,6BAAA,0BAAA,qBCrPR,CDgOA,mEA0BU,yBAAA,sBAAA,kBCrPV,CD2NA,gJAwBU,oBAAA,oBAAA,aACA,qBAAA,kBAAA,wBC9OV,CDqNA,6EA6BY,iBAGA,mBAAA,cCrPZ,CDqNA,mFAmCc,cACA,eACA,UCrPd,CDgNA,8DA4CU,cCzPV,CD6MA,0MAiDY,gBACA,gBCzPZ,CDuMA,8DAuDU,YACA,kBACA,gBACA,qBC3PV,CDiMA,mDA+DQ,iBACA,sBAAA,mBAAA,oBC7PR,CD6LA,wDAmEU,mBACA,gBACA,cC7PV,CDwLA,oDA0EQ,gBACA,2BAAA,wBAAA,oBC/PR,CDoLA,sIA8EU,8BAAA,8BAAA,+BAAA,0BC3PV,CD6KA,wEAiFY,gBC9PZ,CD6KA,yDAuFU,iBACA,kBCjQV,CDyKA,sCA+FI,eCrQJ,CDsKA,0DAkGM,kBACA,yBACA,WCrQN,CDiKA,iDAwGM,gBACA,oBAAA,oBAAA,aACA,8BAAA,6BAAA,uBAAA,mBACA,yBAAA,sBAAA,mBACA,qBAAA,kBAAA,wBCtQN,CD0JA,8GAgHQ,eACA,cACA,kBACA,eAEA,oBCvQR,CAAA",file:"chatRoom2.vue?vue&type=style&index=0&id=438fc966&scoped=true&lang=less&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/deep/ .el-card__body {\n  width: 100%;\n}\n\n.chatRoom {\n  width: 100%;\n  display: flex;\n  font-size: 13px;\n  flex-direction: column;\n\n  .chatTop {\n    max-height: 400px;\n    overflow: auto;\n    height: 529px;\n    padding: 5px;\n    width: 100%;\n    padding: 10px;\n    border: 1px solid #ababab;\n    box-sizing: border-box;\n\n    .divItem {\n      width: 100%;\n\n      .messageRow {\n        display: flex;\n        flex-direction: column;\n\n        .messageT {\n          display: flex;\n          justify-content: flex-end;\n          align-items: center;\n\n          .messageL {\n            margin-right: 5px;\n            justify-content: flex-end;\n            display: flex;\n            flex-wrap: wrap;\n\n            .time {\n              display: block;\n              font-size: 12px;\n              width: 100%;\n\n            }\n          }\n        }\n\n        .con {\n          cursor: pointer;\n\n          img,\n          video,\n          audio {\n            max-width: 200px;\n            max-height: 150px;\n          }\n        }\n\n        .txt {\n          padding: 5px;\n          border-radius: 5px;\n          max-width: 400px;\n          word-break: break-word;\n        }\n      }\n\n      .self {\n        text-align: right;\n        align-items: flex-end;\n\n        .con {\n          background: #fafff3;\n          text-align: left;\n          cursor: pointer;\n        }\n      }\n\n      .other {\n        text-align: left;\n        align-items: baseline;\n\n        .messageT {\n          flex-direction: row-reverse;\n\n          .messageL {\n            margin-left: 10px;\n            flex-direction: row-reverse;\n          }\n        }\n\n        .con {\n          margin-left: 30px;\n          background: #f2f2f2;\n        }\n      }\n    }\n  }\n\n  .chatInput {\n    margin-top: 20px;\n\n    /deep/.el-textarea__inner {\n      padding: 25px 15px;\n      border: 1px solid #ababab;\n      resize: none;\n    }\n\n    .buttonRow {\n      margin-top: 10px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: flex-end;\n\n      .iconTb,\n      div {\n        font-size: 21px;\n        color: #d1d1d1;\n        margin-right: 20px;\n        cursor: pointer;\n\n        display: inline-block;\n      }\n    }\n  }\n}\n\n// .chatRoom .chatTop .divMore{\n//   text-align: center;\n// }\n// .chatRoom .chatTop .divMore .divMoreBlue{\n//   font-size: 14px;\n//   color: #7e7eff; cursor: pointer;\n// }\n"," /deep/ .el-card__body {\n  width: 100%;\n}\n.chatRoom {\n  width: 100%;\n  display: flex;\n  font-size: 13px;\n  flex-direction: column;\n}\n.chatRoom .chatTop {\n  max-height: 400px;\n  overflow: auto;\n  height: 529px;\n  padding: 5px;\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ababab;\n  box-sizing: border-box;\n}\n.chatRoom .chatTop .divItem {\n  width: 100%;\n}\n.chatRoom .chatTop .divItem .messageRow {\n  display: flex;\n  flex-direction: column;\n}\n.chatRoom .chatTop .divItem .messageRow .messageT {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n.chatRoom .chatTop .divItem .messageRow .messageT .messageL {\n  margin-right: 5px;\n  justify-content: flex-end;\n  display: flex;\n  flex-wrap: wrap;\n}\n.chatRoom .chatTop .divItem .messageRow .messageT .messageL .time {\n  display: block;\n  font-size: 12px;\n  width: 100%;\n}\n.chatRoom .chatTop .divItem .messageRow .con {\n  cursor: pointer;\n}\n.chatRoom .chatTop .divItem .messageRow .con img,\n.chatRoom .chatTop .divItem .messageRow .con video,\n.chatRoom .chatTop .divItem .messageRow .con audio {\n  max-width: 200px;\n  max-height: 150px;\n}\n.chatRoom .chatTop .divItem .messageRow .txt {\n  padding: 5px;\n  border-radius: 5px;\n  max-width: 400px;\n  word-break: break-word;\n}\n.chatRoom .chatTop .divItem .self {\n  text-align: right;\n  align-items: flex-end;\n}\n.chatRoom .chatTop .divItem .self .con {\n  background: #fafff3;\n  text-align: left;\n  cursor: pointer;\n}\n.chatRoom .chatTop .divItem .other {\n  text-align: left;\n  align-items: baseline;\n}\n.chatRoom .chatTop .divItem .other .messageT {\n  flex-direction: row-reverse;\n}\n.chatRoom .chatTop .divItem .other .messageT .messageL {\n  margin-left: 10px;\n  flex-direction: row-reverse;\n}\n.chatRoom .chatTop .divItem .other .con {\n  margin-left: 30px;\n  background: #f2f2f2;\n}\n.chatRoom .chatInput {\n  margin-top: 20px;\n}\n.chatRoom .chatInput /deep/ .el-textarea__inner {\n  padding: 25px 15px;\n  border: 1px solid #ababab;\n  resize: none;\n}\n.chatRoom .chatInput .buttonRow {\n  margin-top: 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n}\n.chatRoom .chatInput .buttonRow .iconTb,\n.chatRoom .chatInput .buttonRow div {\n  font-size: 21px;\n  color: #d1d1d1;\n  margin-right: 20px;\n  cursor: pointer;\n  display: inline-block;\n}\n"],sourceRoot:""}])},"5d2d":function(n,e,t){"use strict";var i=t("b74f"),o=t.n(i);o.a},"6bf7":function(n,e,t){e=n.exports=t("690e")(!0),e.push([n.i,'.miniProgram[data-v-6cdf8e09]{display:-webkit-box;display:-ms-flexbox;display:flex;font:13px}.iframe[data-v-6cdf8e09]{width:100%;height:800px;border:0;margin-right:10px;-webkit-box-shadow:"0 0 6px #b1b1b1";box-shadow:"0 0 6px #b1b1b1"}.miniProgram .divLeft[data-v-6cdf8e09]{width:315px;height:100%}.miniProgram .divLeft .divSearch[data-v-6cdf8e09]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.miniProgram .divLeft .divSearch .divExpand[data-v-6cdf8e09]{width:30px;display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:5px}.miniProgram .divLeft .divContent[data-v-6cdf8e09]{padding-top:20px;height:480px;overflow-x:hidden;overflow-y:auto}.miniProgram .divLeft .divContent .divItem[data-v-6cdf8e09]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:10px;cursor:pointer;padding:5px;outline:none}.miniProgram .divLeft .divContent .divItemOver[data-v-6cdf8e09]{background-color:#fffeef}.miniProgram .divLeft .divContent .divItem .imageAvatar[data-v-6cdf8e09]{width:40px;height:40px;min-width:40px;border-radius:50%;margin-right:10px}.miniProgram .divLeft .divContent .divItem .divRight[data-v-6cdf8e09]{width:224px}.miniProgram .divLeft .divContent .divItem .divRight .divInfo[data-v-6cdf8e09],.miniProgram .divLeft .divContent .divItem .divRight .divName[data-v-6cdf8e09]{font-size:14px;font-family:Microsoft Yahei;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.miniProgram .divLeft .divContent .divItem .divRight .divInfo[data-v-6cdf8e09]{color:#999}.labelWidth[data-v-6cdf8e09]{min-width:50px;display:inline-block;text-align:right}.miniProgram .divMiddle[data-v-6cdf8e09]{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-left:10px;margin-right:10px}.miniProgram .divRight .divTip[data-v-6cdf8e09]{font-size:14px;color:#f13b77;margin-top:10px}.miniProgram .div-emptydata[data-v-6cdf8e09]{font-size:14px;border:1px dashed #ccc;text-align:center;line-height:27px;color:#999}.miniProgram .divMore[data-v-6cdf8e09]{text-align:center}.miniProgram .divMore .divMoreBlue[data-v-6cdf8e09]{font-size:14px;color:#7e7eff;cursor:pointer}.miniProgram .divServiceList .divContext[data-v-6cdf8e09]{width:100%;height:auto;max-height:500px;overflow-x:hidden;overflow-y:auto}.miniProgram .divServiceList .divContext .divItem[data-v-6cdf8e09]:nth-child(2n){background-color:#f7f7ff}.miniProgram .divServiceList .divContext .divItem[data-v-6cdf8e09]:nth-child(2n),.miniProgram .divServiceList .divContext .divItem[data-v-6cdf8e09]:nth-child(odd){display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:15px;padding:5px}.miniProgram .divServiceList .divContext .divItem[data-v-6cdf8e09]:nth-child(odd){background-color:#fffeef}.miniProgram .divServiceList .divContext .divItem .el-radio[data-v-6cdf8e09]{margin-right:10px}.miniProgram .divServiceList .divContext .divItem .imageAvatar[data-v-6cdf8e09]{width:40px;height:40px;border-radius:50%;overflow:hidden;margin-right:10px;cursor:pointer}.miniProgram .divServiceList .divContext .divItem .divContent[data-v-6cdf8e09]{-webkit-box-flex:1;-ms-flex:1;flex:1;width:0;cursor:pointer}.miniProgram .divServiceList .divContext .divItem .divContent .divName[data-v-6cdf8e09]{font-size:14px;color:#333;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:18px}.miniProgram .divServiceList .divContext .divItem .divContent .divOther[data-v-6cdf8e09]{font-size:14px;color:#999;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:18px}.miniProgram .divServiceList .divContext .divItem .divDelete[data-v-6cdf8e09]{font-size:14px;color:#ff4e4e;cursor:pointer}',"",{version:3,sources:["C:/小甘项目/yunyingweb/src/views/C:/小甘项目/yunyingweb/src/views/C:/小甘项目/yunyingweb/src/views/C:/小甘项目/yunyingweb/src/views/miniProgram.vue?vue&type=style&index=0&id=6cdf8e09&lang=less&scoped=true&","C:/小甘项目/yunyingweb/src/views/C:/小甘项目/yunyingweb/src/views/C:/小甘项目/yunyingweb/src/views/miniProgram.vue"],names:[],mappings:"AAqTA,8BACE,oBAAA,oBAAA,aACA,SCpTF,CDsTA,yBACE,WACA,aACA,SAAW,kBACX,qCAAA,4BCnTF,CDqTA,uCACE,YAAc,WClThB,CDoTA,kDACE,oBAAA,oBAAA,aAAe,8BAAA,6BAAA,uBAAA,kBCjTjB,CDmTA,6DACE,WAAa,oBAAA,oBAAA,aAAe,eAC5B,yBAAA,sBAAA,mBAAqB,wBAAA,qBAAA,uBAAyB,eC7ShD,CD+SA,mDACE,iBAAmB,aACnB,kBAAoB,eC3StB,CD6SA,4DACE,oBAAA,oBAAA,aAAe,8BAAA,6BAAA,uBAAA,mBAAqB,yBAAA,sBAAA,mBACpC,mBAAqB,eAAiB,YAAc,YCtStD,CDwSA,gEACE,wBCtSF,CDwSA,yEACE,WAAa,YAAc,eAC3B,kBAAoB,iBCnStB,CDqSA,sEACE,WCnSF,CDySA,8JAHE,eAAiB,4BACjB,gBAAkB,uBAAyB,kBCxR7C,CD0RA,+EACmD,UC3RnD,CD8RA,6BACE,eAAiB,qBACjB,gBC3RF,CD6RA,yCACE,mBAAA,WAAA,OACA,iBAAiB,iBC1RnB,CD+RA,gDACE,eAAiB,cAAwB,eC3R3C,CD6RA,6CACE,eACA,uBACA,kBACA,iBACA,UC3RF,CD6RA,uCACE,iBC3RF,CD6RA,oDACE,eACA,cAAgB,cC1RlB,CD4RA,0DACE,WAAa,YAAc,iBAC3B,kBAAoB,eCvRtB,CDyRA,iFAEqC,wBClRrC,CDoRA,mKAHE,oBAAA,oBAAA,aAAe,8BAAA,6BAAA,uBAAA,mBAAqB,yBAAA,sBAAA,mBAAqB,wBAAA,qBAAA,uBACzD,mBAAqB,WCzQvB,CD2QA,kFAEqC,wBC7QrC,CD+QA,6EACE,iBC7QF,CD+QA,gFACE,WAAa,YAAc,kBAAoB,gBAC/C,kBAAoB,cCzQtB,CD2QA,+EACE,mBAAA,WAAA,OAAS,QAAU,cCvQrB,CDyQA,wFACE,eAAiB,WAAa,gBAC9B,uBACA,mBAAqB,gBCpQvB,CDsQA,yFACE,eAAiB,WAAa,gBAC9B,uBACA,mBAAqB,gBCjQvB,CDmQA,8EACE,eAAiB,cAAgB,cC/PnC,CAAA",file:"miniProgram.vue?vue&type=style&index=0&id=6cdf8e09&lang=less&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.miniProgram {\n  display: flex;\n  font: 13px;\n}\n.iframe{\n  width: 100%;\n  height: 800px;\n  border: 0; margin-right: 10px;\n  box-shadow: '0 0 6px #b1b1b1';\n}\n.miniProgram .divLeft{\n  width: 315px; height: 100%;\n}\n.miniProgram .divLeft .divSearch{\n  display: flex; flex-direction: row;\n}\n.miniProgram .divLeft .divSearch .divExpand{\n  width: 30px; display: flex; cursor: pointer;\n  align-items: center; justify-content: center; margin-left: 5px;\n}\n.miniProgram .divLeft .divContent{\n  padding-top: 20px; height: 480px;\n  overflow-x: hidden; overflow-y: auto;\n}\n.miniProgram .divLeft .divContent .divItem{\n  display: flex; flex-direction: row; align-items: center;\n  margin-bottom: 10px; cursor: pointer; padding: 5px; outline: none;\n}\n.miniProgram .divLeft .divContent .divItemOver{\n  background-color: #fffeef;\n}\n.miniProgram .divLeft .divContent .divItem .imageAvatar{\n  width: 40px; height: 40px; min-width: 40px;\n  border-radius: 50%; margin-right: 10px;\n}\n.miniProgram .divLeft .divContent .divItem .divRight{\n  width: 224px;\n}\n.miniProgram .divLeft .divContent .divItem .divRight .divName{\n  font-size: 14px; font-family: 'Microsoft Yahei';\n  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.miniProgram .divLeft .divContent .divItem .divRight .divInfo{\n  font-size: 14px; font-family: 'Microsoft Yahei'; color: #999;\n  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.labelWidth{\n  min-width: 50px; display: inline-block;\n  text-align: right;\n}\n.miniProgram .divMiddle{\n  flex: 1;\n  margin-left:10px;margin-right:10px;\n}\n.miniProgram .divRight{\n\n}\n.miniProgram .divRight .divTip{\n  font-size: 14px; color: rgb(241,59,119); margin-top: 10px;\n}\n.miniProgram .div-emptydata{\n  font-size: 14px;\n  border: 1px dashed #cccccc;\n  text-align: center;\n  line-height: 27px;\n  color: #999;\n}\n.miniProgram .divMore{\n  text-align: center;\n}\n.miniProgram .divMore .divMoreBlue{\n  font-size: 14px;\n  color: #7e7eff; cursor: pointer;\n}\n.miniProgram .divServiceList .divContext{\n  width: 100%; height: auto; max-height: 500px;\n  overflow-x: hidden; overflow-y: auto;\n}\n.miniProgram .divServiceList .divContext .divItem:nth-child(even){\n  display: flex; flex-direction: row; align-items: center; justify-content: center;\n  margin-bottom: 15px; padding: 5px; background-color: #f7f7ff;\n}\n.miniProgram .divServiceList .divContext .divItem:nth-child(odd){\n  display: flex; flex-direction: row; align-items: center; justify-content: center;\n  margin-bottom: 15px; padding: 5px; background-color: #fffeef;\n}\n.miniProgram .divServiceList .divContext .divItem .el-radio{\n  margin-right: 10px;\n}\n.miniProgram .divServiceList .divContext .divItem .imageAvatar{\n  width: 40px; height: 40px; border-radius: 50%; overflow: hidden;\n  margin-right: 10px; cursor: pointer;\n}\n.miniProgram .divServiceList .divContext .divItem .divContent{\n  flex: 1; width: 0; cursor: pointer;\n}\n.miniProgram .divServiceList .divContext .divItem .divContent .divName{\n  font-size: 14px; color: #333; overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap; line-height: 18px;\n}\n.miniProgram .divServiceList .divContext .divItem .divContent .divOther{\n  font-size: 14px; color: #999; overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap; line-height: 18px;\n}\n.miniProgram .divServiceList .divContext .divItem .divDelete{\n  font-size: 14px; color: #ff4e4e; cursor: pointer;\n}\n",".miniProgram {\n  display: flex;\n  font: 13px;\n}\n.iframe {\n  width: 100%;\n  height: 800px;\n  border: 0;\n  margin-right: 10px;\n  box-shadow: '0 0 6px #b1b1b1';\n}\n.miniProgram .divLeft {\n  width: 315px;\n  height: 100%;\n}\n.miniProgram .divLeft .divSearch {\n  display: flex;\n  flex-direction: row;\n}\n.miniProgram .divLeft .divSearch .divExpand {\n  width: 30px;\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  margin-left: 5px;\n}\n.miniProgram .divLeft .divContent {\n  padding-top: 20px;\n  height: 480px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.miniProgram .divLeft .divContent .divItem {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 10px;\n  cursor: pointer;\n  padding: 5px;\n  outline: none;\n}\n.miniProgram .divLeft .divContent .divItemOver {\n  background-color: #fffeef;\n}\n.miniProgram .divLeft .divContent .divItem .imageAvatar {\n  width: 40px;\n  height: 40px;\n  min-width: 40px;\n  border-radius: 50%;\n  margin-right: 10px;\n}\n.miniProgram .divLeft .divContent .divItem .divRight {\n  width: 224px;\n}\n.miniProgram .divLeft .divContent .divItem .divRight .divName {\n  font-size: 14px;\n  font-family: 'Microsoft Yahei';\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.miniProgram .divLeft .divContent .divItem .divRight .divInfo {\n  font-size: 14px;\n  font-family: 'Microsoft Yahei';\n  color: #999;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.labelWidth {\n  min-width: 50px;\n  display: inline-block;\n  text-align: right;\n}\n.miniProgram .divMiddle {\n  flex: 1;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n.miniProgram .divRight .divTip {\n  font-size: 14px;\n  color: #f13b77;\n  margin-top: 10px;\n}\n.miniProgram .div-emptydata {\n  font-size: 14px;\n  border: 1px dashed #cccccc;\n  text-align: center;\n  line-height: 27px;\n  color: #999;\n}\n.miniProgram .divMore {\n  text-align: center;\n}\n.miniProgram .divMore .divMoreBlue {\n  font-size: 14px;\n  color: #7e7eff;\n  cursor: pointer;\n}\n.miniProgram .divServiceList .divContext {\n  width: 100%;\n  height: auto;\n  max-height: 500px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.miniProgram .divServiceList .divContext .divItem:nth-child(even) {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 15px;\n  padding: 5px;\n  background-color: #f7f7ff;\n}\n.miniProgram .divServiceList .divContext .divItem:nth-child(odd) {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 15px;\n  padding: 5px;\n  background-color: #fffeef;\n}\n.miniProgram .divServiceList .divContext .divItem .el-radio {\n  margin-right: 10px;\n}\n.miniProgram .divServiceList .divContext .divItem .imageAvatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  overflow: hidden;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.miniProgram .divServiceList .divContext .divItem .divContent {\n  flex: 1;\n  width: 0;\n  cursor: pointer;\n}\n.miniProgram .divServiceList .divContext .divItem .divContent .divName {\n  font-size: 14px;\n  color: #333;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 18px;\n}\n.miniProgram .divServiceList .divContext .divItem .divContent .divOther {\n  font-size: 14px;\n  color: #999;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 18px;\n}\n.miniProgram .divServiceList .divContext .divItem .divDelete {\n  font-size: 14px;\n  color: #ff4e4e;\n  cursor: pointer;\n}\n"],sourceRoot:""}])},b74f:function(n,e,t){var i=t("49a3");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var o=t("85cb").default;o("91618c44",i,!0,{sourceMap:!0,shadowMode:!1})},c7e8:function(n,e,t){"use strict";var i=t("a59a");function o(n,e,t){if(e){var o="?";for(var a in e)o=o+a+"="+e[a]+"&";return o=o.substr(0,o.length-1),t&&0==t.loading?new Promise((function(e,t){i["default"].prototype.$ajax.get(n+o,{loading:!1}).then((function(n){e(n.data)}),(function(n){t(n)}))})):new Promise((function(e,t){i["default"].prototype.$ajax.get(n+o).then((function(n){e(n.data)}),(function(n){t(n)}))}))}return new Promise((function(e,t){i["default"].prototype.$ajax.get(n).then((function(n){e(n.data)}),(function(n){t(n)}))}))}function a(n,e,t){return t&&0==t.loading?new Promise((function(t,o){i["default"].prototype.$ajax.get(n+e.queryParam,{params:e},{loading:!1}).then((function(n){t(n.data)}),(function(n){o(n)}))})):new Promise((function(t,o){i["default"].prototype.$ajax.get(n+e.queryParam,{params:e}).then((function(n){t(n.data)}),(function(n){o(n)}))}))}function r(n,e,t){return t&&0==t.loading?new Promise((function(t,o){i["default"].prototype.$ajax.post(n,e,{loading:!1}).then((function(n){t(n.data)})).catch((function(n){o(n.data)}))})):new Promise((function(t,o){i["default"].prototype.$ajax.post(n,e).then((function(n){t(n.data)})).catch((function(n){o(n.data)}))}))}function s(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return t&&t.loading,new Promise((function(t,o){i["default"].prototype.$ajax.put(n+e.queryParam,e).then((function(n){t(n.data)}),(function(n){o(n)}))}))}function d(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;if(e){var o="";for(var a in e)o=o+e[a]+"/";return o=o.substring(0,o.length-1),t&&t.loading,new Promise((function(t,a){i["default"].prototype.$ajax.put(n+o,e).then((function(n){t(n.data)}),(function(n){a(n)}))}))}}function c(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return t&&t.loading,new Promise((function(t,o){i["default"].prototype.$ajax.delete(n+e.queryParam,{data:e}).then((function(n){t(n.data)})).catch((function(n){o(n.data)}))}))}e["a"]={Get:o,Get2:a,Post:r,Put:s,Put2:d,Del:c}},d3a3:function(n,e,t){var i=t("6bf7");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var o=t("85cb").default;o("0a09afac",i,!0,{sourceMap:!0,shadowMode:!1})},e911:function(n,e,t){"use strict";t.r(e);var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"miniProgram"},[n.showIframe?t("iframe",{staticClass:"iframe",attrs:{src:"https://mpkf.weixin.qq.com/",sandbox:"allow-scripts allow-same-origin allow-popups allow-top-navigation"}}):n._e(),0==n.showIframe?t("el-card",{staticClass:"divLeft",attrs:{id:"divLeftContent"}},[t("div",{staticClass:"divSearch"},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入用户名...",maxlength:"15","show-word-limit":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.keyUpEnter(e)}},model:{value:n.userName,callback:function(e){n.userName=e},expression:"userName"}})],1),t("div",{staticClass:"divContent"},[n.list.length<=0?t("div",{staticClass:"div-emptydata"},[n._v("对不起，没有相关数据。")]):n._e(),n._l(n.list,(function(e,i){return n.list.length>0?t("el-popover",{key:i,attrs:{placement:"right-start",width:"200",trigger:"hover"}},[t("div",{class:e.senderId==n.selectId?"divItem divItemOver":"divItem",attrs:{slot:"reference"},on:{click:function(t){return n.clickItem(e.senderId,e.weChatAuth.openId)}},slot:"reference"},[t("el-image",{staticClass:"imageAvatar",attrs:{src:e.senderAvatar,fit:"fit"}}),t("div",{staticClass:"divRight"},[t("div",{staticClass:"divName"},[n._v(n._s(e.senderNickname))]),t("div",{staticClass:"divInfo"},[n._v(n._s(n._f("sexJudgment")(e.weChatAuth.sex))+" "+n._s(e.weChatAuth.province+" "+e.weChatAuth.city))])])],1),t("div",{staticClass:"ft12 lh22",attrs:{slot:""},slot:"default"},[t("el-row",[t("label",{staticClass:"col-gray mr10 labelWidth"},[n._v("微信昵称")]),n._v(n._s(e.senderNickname))]),t("el-row",[t("label",{staticClass:"col-gray mr10 labelWidth"},[n._v("地区")]),n._v(n._s(e.weChatAuth.province)+" "+n._s(e.weChatAuth.city))]),t("el-row",[t("label",{staticClass:"col-gray mr10 labelWidth"},[n._v("性别")]),n._v(n._s(n._f("sexJudgment")(e.weChatAuth.sex)))])],1)]):n._e()})),n.list.length>0&&n.list.length<n.total?t("div",{staticClass:"divMore"},[t("div",{staticClass:"divMoreBlue",on:{click:n.showMore}},[n._v("加载更多")])]):n._e()],2),0==n.showIframe?t("div",{staticStyle:{display:"flex","margin-top":"10px"}},[t("el-popover",{staticStyle:{"margin-right":"10px"},attrs:{placement:"bottom-start",trigger:"hover",content:"请先添加微信客服，绑定微信。"}},[t("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-user-solid"},on:{click:function(e){return n.showUserInfo(!0)}},slot:"reference"},[n._v("添加微信客服")])],1),t("el-popover",{attrs:{placement:"bottom-start",trigger:"hover",content:"客服管理列表，可删除客服。"}},[t("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-service"},on:{click:function(e){return n.showServicesList(!0)}},slot:"reference"},[n._v("客服列表")])],1)],1):n._e()]):n._e(),0==n.showIframe?t("div",{staticClass:"divMiddle"},[t("chatRoom",{ref:"chat",on:{childEvent:n.childEvent}})],1):n._e(),t("div",{staticClass:"divRight",staticStyle:{width:"365px"}},[t("chatSearch",{attrs:{question:n.question,smallTypes:n.smallType},on:{setCheckVal:n.setCheckVal}}),n.showIframe?t("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",icon:"el-icon-user-solid"},on:{click:function(e){return n.showUserInfo(!0)}}},[n._v("添加：微信客户")]):n._e(),n.showIframe?t("div",{staticClass:"divTip"},[n._v("重要提示：扫码登录后，网页会重定向，按浏览器返回，返回到好呗呗运营平台。")]):n._e()],1),t("el-dialog",{attrs:{title:"添加微信客服",visible:n.addUserDialog,"before-close":n.closeUserDialog,width:"30%"},on:{"update:visible":function(e){n.addUserDialog=e}}},[t("el-form",{ref:"ruleForm",attrs:{model:n.user,rules:n.rules}},[t("el-form-item",{attrs:{label:"客服账号：",prop:"kf_account","label-width":"120px"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"客服账号（格式：fanke@hbbclub）"},model:{value:n.user.kf_account,callback:function(e){n.$set(n.user,"kf_account",e)},expression:"user.kf_account"}})],1),t("el-form-item",{attrs:{label:"微信 ID：",prop:"invite_wx","label-width":"120px"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"微信 ID（你的微信 ID）"},model:{value:n.user.invite_wx,callback:function(e){n.$set(n.user,"invite_wx",e)},expression:"user.invite_wx"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:n.addUserInfo}},[n._v("确 定")]),t("el-button",{on:{click:function(e){return n.showUserInfo(!1)}}},[n._v("取 消")])],1)],1),t("el-dialog",{staticClass:"divServiceList",attrs:{title:"微信客服列表（"+n.servicelist.length+" 个客服）",visible:n.serversListDialog,width:"30%"},on:{"update:visible":function(e){n.serversListDialog=e}}},[t("div",{staticClass:"divContext"},n._l(n.servicelist,(function(e,i){return t("div",{key:i,staticClass:"divItem"},[t("el-image",{staticClass:"imageAvatar",attrs:{src:e.kf_headimgurl,fit:"fit"}}),t("div",{staticClass:"divContent"},[t("div",{staticClass:"divName"},[n._v(n._s(e.kf_account))]),t("div",{staticClass:"divOther"},[n._v(n._s(e.kf_nick+"（微信号："+e.kf_wx+"）"))])]),t("div",{staticClass:"divDelete",on:{click:function(t){return n.deleteCustomer(e.kf_account)}}},[t("i",{staticClass:"el-icon-delete"}),n._v(" 删除\n        ")])],1)})),0),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){return n.showServicesList(!1)}}},[n._v("取 消")])],1)]),t("el-dialog",{staticClass:"divServiceList",attrs:{title:"请选择客服（必须）","before-close":n.beforeClose,visible:n.showSelectDialog,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){n.showSelectDialog=e}}},[t("div",{staticClass:"divContext"},n._l(n.servicelist,(function(e,i){return t("el-radio-group",{key:i,staticClass:"divItem",model:{value:n.kf_account,callback:function(e){n.kf_account=e},expression:"kf_account"}},[t("el-radio",{attrs:{value:e.kf_account,label:e.kf_account}},[n._v(n._s(""))]),t("el-image",{staticClass:"imageAvatar",attrs:{src:e.kf_headimgurl,fit:"fit"},on:{click:function(t){return n.selectKFAccount(e.kf_account)}}}),t("div",{staticClass:"divContent",on:{click:function(t){return n.selectKFAccount(e.kf_account)}}},[t("div",{staticClass:"divName"},[n._v(n._s(e.kf_account))]),t("div",{staticClass:"divOther"},[n._v(n._s(e.kf_nick+"（微信号："+e.kf_wx+"）"))])])],1)})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",disabled:""===n.kf_account},on:{click:n.selectKF}},[n._v("确 定")])],1)])],1)},o=[],a=(t("ed63"),t("8cf2"),t("a3be")),r=t("c7e8");function s(){return r["a"].Get(a["a"].getAccessToken)}function d(n){return r["a"].Post(a["a"].addUserClient,n,{})}function c(n){return r["a"].Post(a["a"].sendMsg,n)}function l(n){return r["a"].Post(a["a"].uploadFileImg,n)}function m(n){return r["a"].Get(a["a"].getUserList,n,{loading:!1})}function f(n){return r["a"].Get(a["a"].getMsgDetails,n,{loading:!1})}function g(){return r["a"].Get(a["a"].getCustomerServiceList)}function v(n){return r["a"].Post(a["a"].deleteCustomerService,n)}var p={getAccessToken:s,addUserClient:d,sendMsg:c,uploadFileImg:l,getUserList:m,getMsgDetails:f,getCustomerServiceList:g,deleteCustomerService:v},h=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"chatRoom",attrs:{id:"chatRoom"}},[t("div",{staticClass:"chatTop",attrs:{id:"chatContent"}},n._l(n.messageList,(function(e,i){return t("div",{key:i,class:i>=n.messageList.length-1?"divItem":"divItem mb30"},[t("div",{staticClass:"messageRow other"},[t("div",{staticClass:"messageT"},[t("div",{staticClass:"messageL"},[n._v("\n            "+n._s(e.xcxMsg.sender.senderNickname)+"\n            "),t("span",{staticClass:"time col-gray mt5"},[n._v(n._s(n._f("formatDate2")(e.xcxMsg.CreateTime)))])]),t("el-avatar",{staticClass:"avater",attrs:{size:"small",src:e.xcxMsg.sender.senderAvatar}})],1),"text"==e.xcxMsg.MsgType?t("div",{staticClass:"con txt mt5",domProps:{innerHTML:n._s(n.txtToImg(e.xcxMsg.Content))},on:{click:function(t){return n.getText(t,e.xcxMsg.Content)}}}):n._e(),"image"==e.xcxMsg.MsgType?t("div",{staticClass:"con mt5"},[t("a",{staticStyle:{cursor:"pointer"},attrs:{href:e.xcxMsg.PicUrl,target:"_blank"}},[t("img",{attrs:{src:e.xcxMsg.PicUrl},on:{click:function(t){return n.$viewImage(e.xcxMsg.PicUrl,"picture")}}})])]):n._e()]),n._l(e.answers,(function(i,o){return t("div",{key:o,class:o>=e.answers.length-1?"messageRow self":"messageRow mb30 self"},[t("div",{staticClass:"messageT"},[t("div",{staticClass:"messageL"},[n._v("\n            在线客服\n            "),t("span",{staticClass:"time col-gray mt5"},[n._v(n._s(n._f("formatDate2")(i.t.seconds)))])]),t("el-avatar",{staticClass:"avater",attrs:{size:"small",src:"https://hbb-deploy.oss-cn-beijing.aliyuncs.com/5e53c24416d3fc6f1c1a7422.jpg"}})],1),"text"==i.contentType?t("div",{staticClass:"con txt mt5",on:{click:function(e){return n.getText(e,i.content)}}},[n._v("\n          "+n._s(n._f("getContext")(i.content))+"\n        ")]):n._e(),"image"==i.contentType?t("div",{staticClass:"con mt5"},[t("img",{attrs:{src:n._f("getAliUrl")(i.content)},on:{click:function(e){return n.preview(i.content)}}})]):n._e()])}))],2)})),0),t("div",{staticClass:"chatInput mt30"},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入内容...",rows:"5",disabled:n.disabled},model:{value:n.inputVal,callback:function(e){n.inputVal=e},expression:"inputVal"}}),t("div",{staticClass:"buttonRow"},[t("el-upload",{ref:"upload",attrs:{action:"",disabled:n.disabled,accept:"image/x-png,image/gif,image/jpeg","auto-upload":!1,"show-file-list":!1,"on-change":n.selectImage}},[t("i",{staticClass:"el-icon-folder-opened"})]),t("el-button",{attrs:{size:"small",type:"primary",disabled:n.disabled},on:{click:n.sendMsg}},[n._v("发送")])],1)],1)])},u=[],x=t("2ca7"),A={data:function(){return{kf_account:"",interval:0,loading:null,senderId:"",openId:"",inputVal:"",disabled:!0,messageList:[]}},methods:{preview:function(n){var e="",t=JSON.parse(n);e=void 0==t.aliUrl?"https://hbb-deploy.oss-cn-beijing.aliyuncs.com/5e53c74016d3fc6f1c1a7426.png":t.aliUrl,this.$viewImage(e,"picture")},getMsgId:function(){return this.messageList.length>0?this.messageList[this.messageList.length-1].id:this.messageList.length<=0?"":void 0},setContent:function(n){this.inputVal=n},getText:function(n,e){n.stopPropagation(),n.preventDefault(),1==e.includes('{"touser"')&&(e=JSON.parse(e).text.content),this.$emit("childEvent",e)},sendMsg:function(){if(""==this.inputVal.trim())this.$alert("消息不能为空。","提示：",{confirmButtonText:"确定"});else{if(""==this.kf_account.trim())return void this.$alert("点击左边，重选择客服后聊天。","重选客服：",{confirmButtonText:"确定"});var n=this.getMsgId();if(""!=n){var e={id:n,msgInfo:{touser:this.openId,msgtype:"text",text:{content:this.inputVal},customservice:{kf_account:this.kf_account}}},t=this;p.sendMsg(e).then((function(n){200==n.code&&(t.inputVal="",t.callbackRefresh())}))}}},selectImage:function(n,e){if(""!=this.kf_account.trim()){var t=this,i=new FormData;i.append("type","image"),i.append("file",n.raw),p.uploadFileImg(i).then((function(n){if(200==n.code){var e=t.getMsgId(),i={id:e,msgInfo:{touser:t.openId,aliUrl:n.data.aliyunInfo.url,msgtype:"image",image:{media_id:n.data.wxInfo.media_id},customservice:{kf_account:t.kf_account}}};p.sendMsg(i).then((function(n){200==n.code&&t.callbackRefresh()}))}}))}else this.$alert("点击左边，重选择客服后聊天。","重选客服：",{confirmButtonText:"确定"})},setSenderId:function(n,e,t){this.kf_account=n,this.senderId=e,this.openId=t,this.messageList=[],this.disabled=!1,this.loading=x["Loading"].service({target:document.getElementById("chatRoom"),lock:!0,text:"加载中，请稍后...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),this.refreshData()},clearKFAccount:function(){this.kf_account=""},refreshData:function(){var n=this;clearInterval(this.interval),this.interval=setInterval((function(){var e={};""!=n.senderId.trim()&&(e.userid=n.senderId,p.getMsgDetails(e).then((function(e){200==e.code&&(n.messageList=e.data.data,null!=n.loading&&(n.loading.close(),n.loading=null))})))}),3e3)},callbackRefresh:function(){var n=this,e={};""!=this.senderId.trim()&&(e.userid=this.senderId,p.getMsgDetails(e).then((function(e){200==e.code&&(n.messageList=e.data.data)})))}},beforeDestroy:function(){clearInterval(this.interval)},watch:{messageList:function(n,e){if(e.length<=0)var t=setTimeout((function(){clearTimeout(t),document.getElementById("chatContent").scrollTop=document.getElementById("chatContent").scrollHeight}),300);else if(n.length!=e.length||n[n.length-1].answers.length!=e[e.length-1].answers.length)t=setTimeout((function(){clearTimeout(t),document.getElementById("chatContent").scrollTop=document.getElementById("chatContent").scrollHeight}),300)}}},C=A,w=(t("5d2d"),t("5511")),b=Object(w["a"])(C,h,u,!1,null,"438fc966",null),y=b.exports,B=t("8904"),k={components:{chatRoom:y,chatSearch:B["a"]},data:function(){var n=function(n,e,t){1!=e.includes("@hbbclub")?t(new Error("输入必须包含：@hbbclub")):t()};return{smallType:"search",showIframe:!1,showSelectDialog:!1,kf_account:"",addUserDialog:!1,serversListDialog:!1,loading:null,question:"",user:{kf_account:"",invite_wx:""},userName:"",userName2:"",selectId:"",openId:"",rules:{kf_account:[{required:!0,message:"请输入 客服账号",trigger:"blur"},{min:9,max:18,message:"长度在 9 到 18 个字符",trigger:"blur"},{validator:n,trigger:"blur"}],invite_wx:[{required:!0,message:"请输入 微信 ID",trigger:"blur"}]},list:[],total:0,pageSize:10,interval:0,servicelist:[]}},methods:{showServicesList:function(n){1==n?(this.serversListDialog=n,this.getCustomerList()):0==n&&(this.serversListDialog=n)},beforeClose:function(n){this.kf_account="",n()},selectKFAccount:function(n){this.kf_account=n},deleteCustomer:function(n){var e=this;this.$confirm("你确定要删除账号："+n+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e;p.deleteCustomerService({kf_account:n}).then((function(e){200==e.code&&t.$alert("账号删除成功。","提示",{confirmButtonText:"确定",callback:function(e){t.getCustomerList(),sessionStorage.getItem("kf_account")==n&&(sessionStorage.removeItem("kf_account"),t.$refs["chat"].clearKFAccount())}})}))}))},getCustomerList:function(){var n=this;p.getCustomerServiceList().then((function(e){200==e.code&&(n.servicelist=e.data.kf_list)}))},childEvent:function(n){this.question=n},clickItem:function(n,e){null===sessionStorage.getItem("kf_account")?(this.showSelectDialog=!0,this.selectId=n,this.openId=e,this.getCustomerList()):(this.selectId=n,this.openId=e,this.$refs["chat"].setSenderId(sessionStorage.getItem("kf_account"),n,e))},selectKF:function(){sessionStorage.setItem("kf_account",this.kf_account),this.showSelectDialog=!1,this.$refs["chat"].setSenderId(sessionStorage.getItem("kf_account"),this.selectId,this.openId)},keyUpEnter:function(n){var e=this;this.userName2=this.userName,this.pageSize=10,this.loading=x["Loading"].service({target:document.getElementById("divLeftContent"),lock:!0,text:"加载中，请稍后...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),p.getUserList({userName:n.target.value,page:1,size:this.pageSize}).then((function(n){200==n.code&&(e.list=n.data.data,e.total=n.data.total,null!=e.loading&&(e.loading.close(),e.loading=null))}))},showMore:function(){this.list.length<this.total&&(this.pageSize=this.pageSize+10,this.loading=x["Loading"].service({target:document.getElementById("divLeftContent"),lock:!0,text:"加载中，请稍后...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),p.getUserList({userName:this.userName2,page:1,size:this.pageSize}).then((function(n){200==n.code&&(that.list=n.data.data,that.total=n.data.total,null!=that.loading&&(that.loading.close(),that.loading=null))})))},addUserInfo:function(){var n=this;this.$refs["ruleForm"].validate((function(e){e&&p.addUserClient(n.user).then((function(e){200==e.code&&(sessionStorage.setItem("kf_account",n.user.kf_account),n.$refs["ruleForm"].resetFields(),n.addUserDialog=!1,n.$alert("账号 创建成功。","提示：",{confirmButtonText:"确定"}))}))}))},showUserInfo:function(n){1==n?this.addUserDialog=n:0==n&&(this.$refs["ruleForm"].resetFields(),this.addUserDialog=n)},closeUserDialog:function(n){this.$refs["ruleForm"].resetFields(),n()},setCheckVal:function(n){n&&this.$refs["chat"].setContent(n)},refreshData:function(){var n=this;this.interval=setInterval((function(){var e={page:1,size:n.pageSize};""!=n.userName2.trim()&&(e.username=n.userName2),p.getUserList(e).then((function(e){200==e.code&&(n.list=e.data.data,n.total=e.data.total,null!=n.loading&&(n.loading.close(),n.loading=null))}))}),3e3)}},mounted:function(){this.loading=x["Loading"].service({target:document.getElementById("divLeftContent"),lock:!0,text:"加载中，请稍后...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.2)"}),this.refreshData()},beforeDestroy:function(){clearInterval(this.interval)}},I=k,_=(t("ea21"),Object(w["a"])(I,i,o,!1,null,"6cdf8e09",null));e["default"]=_.exports},ea21:function(n,e,t){"use strict";var i=t("d3a3"),o=t.n(i);o.a}}]);